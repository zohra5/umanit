{% extends 'base.html.twig' %}

{% block title %}UmanIT - Consulter un utilisateur{% endblock %}

{% block body %}

    <main>
        <section>

            <h1 class="mt-5 mb-4">Consultation de {{ user.name }} {{ user.firstname }} </h1>

            <!-- Informations personnelles -->
            <h2 class="mt-5">Informations personnelles :</h2>
                <hr>

                <!-- Nom & Prénom -->
                <div class="row px-3 mt-4">
                    <div class="col">
                        <p>
                            <b>Nom :</b> {{ user.name }}
                        </p>
                    </div>

                    <div class="col">
                        <p>
                            <b>Prénom :</b> {{ user.firstname }}
                        </p>
                    </div>
                </div>

                <!-- Anniversaire & Email -->
                <div class="row px-3">
                    <div class="col">
                        <p>
                            <b>Date de naissance :</b> {{ user.birthday|date("m/d/Y") }}
                        </p>
                    </div>

                    <div class="col">
                        <p>
                            <b>Email :</b> {{ user.email }}
                        </p>
                    </div>
                </div>

                <!-- Rôle -->
                <div class="row px-3 mb-3">
                    <div class="col">
                        <p>
                            <b>Rôle :</b>
                            {% if user.roles|first == 'ROLE_RH' %} Administrateur {% endif %}
                            {% if user.roles|first == 'ROLE_MANAGER' %} Manager {% endif %}
                            {% if user.roles|first == 'ROLE_CONTRIBUTEUR' %} Contributeur {% endif %}
                        </p>
                    </div>
                </div>

            <!-- Informations relatives au poste -->
            <h2 class="mt-4">Informations relatives au poste :</h2>
                <hr>

                <!-- Service & Date d'embauche -->
                <div class="row px-3 mt-4">
                    <div class="col">
                        <p>
                            <b>Service :</b> {{ user.service }}
                        </p>
                    </div>

                    <div class="col">
                        <p>
                            <b>Date d'embauche :</b> {{ user.dateHire|date("m/d/Y") }}
                        </p>
                    </div>
                </div>

                <!-- Anniversaire & Mail -->
                <div class="row px-3 mb-4">
                    <div class="col">
                        <p>
                            <b>Intitulé du poste :</b> {{ user.jobTitle }}
                        </p>
                    </div>

                    <div class="col">
                        <p>
                            <b>Date d'accession au poste :</b> {{ user.accessionDate|date("m/d/Y") }}
                        </p>
                    </div>
                </div>

                <a href="{{ path('user_index') }}" class="btn">Annuler</a>
                <a href="{{ path('user_edit', {'id': user.id}) }}" class="btn">Éditer</a>
                {{ include('user/_delete_form.html.twig') }}
        
        </section>
    </main>

{% endblock %}
